<template>
  <div>
    <Countdown date="March 20, 2018" until="Spring"></Countdown>
    <div id="animation">
      <svg version="1.1" id="main" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
      	 viewBox="0 0 301.6 553.6" style="enable-background:new 0 0 301.6 553.6;" xml:space="preserve">
        <g id="leaf">
          <path class="main" d="M154.6,278c18.2-28.1,43.4-33.8,57.6-34.6c10-0.6,18.2,8.3,16.1,18.2c-0.4,1.8-1,3.7-1.9,5.7
            c-6.9,15-12.9,30.9-71.1,41.1"/>
          <path class="shadow" d="M222.9,248c0.6,2,0.9,3.8,0.5,6c-0.3,1.6-0.9,3.3-1.7,5.2c-6.2,13.5-24.9,31.4-64.3,47.7
            c56.3-10,62.1-25.3,68.7-39.8c0.9-2,1.5-3.8,1.8-5.5C229,256.1,226.8,251.2,222.9,248z"/>
        </g>
        <g id="stick">
          <line x1="154.1" y1="329.9" x2="155.3" />
        </g>
        <g id="pot">
          <g id="pot-bottom">
            <path class="main" d="M260.3,373.4L41,373.6c-4.3,0-7.6,4.1-6.9,8.5l27.4,160.1c0.6,3.5,3.5,6,6.9,6h161.1c3.3,0,6.2-2.4,6.9-5.8
              L267.2,382C268.1,377.5,264.7,373.4,260.3,373.4z"/>
            <path class="right" d="M259.5,375.6l-42.3,0.1c3.9,0.5,6.8,4.3,6,8.4l-30.5,156.3c-0.6,3.3-3.5,5.7-6.8,5.7H229
              c3.3,0,6.1-2.4,6.8-5.7L266.3,384C267.2,379.7,263.9,375.6,259.5,375.6z"/>
            <path class="left" d="M43.9,377.3c-4.3,0-7.5,3.9-6.8,8.2l26.5,154.3c0.6,3.3,3.4,5.8,6.7,5.8l52.4,0.1c-3.3,0-6.2-2.4-6.7-5.8
              L89.6,385.6c-0.7-4.3,2.5-8.2,6.8-8.2"/>
          </g>
          <g id="pot-top">
            <path class="main" d="M277.8,329.2H23.5C13.8,329.2,6,337,6,346.7v19.9c0,9.7,7.8,17.5,17.5,17.5h254.3c9.7,0,17.5-7.8,17.5-17.5
              v-19.9C295.3,337,287.5,329.2,277.8,329.2z"/>
            <path class="left" d="M38.7,369.2v-25.4c0-7.2,6.4-13,14.3-13H22.4c-7.9,0-14.3,5.8-14.3,13v25.4c0,7.2,6.4,13,14.3,13H53
              C45.1,382.1,38.7,376.3,38.7,369.2z"/>
            <path class="right" d="M261.1,369.5l0-25.6c0-7.2-6.8-13.1-15.1-13.1l32.5,0c8.4,0,15.1,5.9,15.1,13.1l0,25.6
              c0,7.2-6.8,13.1-15.2,13.1l-5,0l-27.5,0C254.3,382.6,261.1,376.7,261.1,369.5z"/>
          </g>
        </g>
        <g id="petals">
          <path d="M184.5,72.3c0,0,4.3-53.5,46-38.8c26.4,9.3,29.7,37.1,20.3,48.7c-6.1,7.4-19.1,14.1-39.9,26.2l0,0
            c0,0,34.1-31,53.4,8.8c12.2,25.2-5,47.3-19.8,48.8c-9.6,1-18.9-0.2-40.6-10.7l0,0c0,0,44.7,10.1,26.4,50.4
            c-11.6,25.5-39.6,26.4-50.2,15.9c-6.9-6.7-19.8-19.5-25.6-42.9l-0.3,0.8c0,0-13.8,55-55.5,40.3c-26.4-9.3-29.7-37.1-20.3-48.7
            c6.1-7.4,13.3-12.8,36.1-20.6l0.3-0.1c0,0-60.7,29.3-76.5-3.9c-12-25.3,5-47.3,19.8-48.8c9.6-1,19.4,0.8,41.1,11.3l0.4,0.6
            c0,0-51-18.7-39.5-52.6c9-26.5,37.1-29.7,48.7-20.3c7.4,6.1,13,14.4,20.9,37.1l0.1-0.3c0,0-25.5-44.6,10.7-62.3
            c25.1-12.3,44,4.4,46.5,19.1c1.6,9.3,2.8,15.8-2.4,40.1"/>
        </g>
        <g id="pistil">
          <ellipse transform="matrix(1.564399e-02 -0.9999 0.9999 1.564399e-02 35.0692 277.8048)" cx="158.6" cy="121.1" rx="43.2" ry="43.2"/>
        </g>
      </svg>
      <svg version="1.1" id="watering-can" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
      	 viewBox="0 0 345.3 248.6" style="enable-background:new 0 0 345.3 248.6;" xml:space="preserve">
        <path class="st0" d="M194.6,60.6c-9.7,1.9-36.5,9.2-58.1,34c-0.4,0.5-0.8,1.1-1.1,1.7c-1,2.3-3.5,8.2-4,14.5
          c-0.6,8-2.2,37.8-2.3,44.6c-0.1,6.1,0.2,64.7,0.3,77.9c0,1.6,1,3,2.6,3.4c12.8,3.8,72.1,19,138.3-5.7c1.4-0.5,2.3-1.9,2.4-3.4
          l2-108.8c0,0-0.3-12.4-5.4-23.7c-0.8-1.7-2.6-2.5-4.4-1.9c-6.6,2.1-25,6.5-58.5,3.9c-1.7-0.1-3.1-1.4-3.3-3.1l-4.1-30.3
          C198.6,61.6,196.7,60.2,194.6,60.6z"/>
        <path class="st0" d="M272.2,214.1c-93.4,15-143.1-0.6-143.1-0.6l1.8-94.2c0,0,74.7,24.8,142.8-1.4L272.2,214.1z"/>
        <path class="st1" d="M271.9,213.9l1.5-94.8c-8,3.1-16,5.4-24,7.2C249.3,126.3,263.5,214.6,271.9,213.9z"/>
        <path class="st2" d="M159.5,73.3c0,0-7-33.9,22.8-53.1C226-7.8,339.7,9.8,331.5,121.8c-1.4,19.7-21,44.2-57,50.1l-0.3,10.3
          c39.3-6.5,64.2-33.6,65.8-55.1C348.9,4.7,224.6-14.5,177,16.1c-32.5,20.9-23.2,62.7-23.2,62.7L159.5,73.3z"/>
        <path class="st0" d="M130.1,154.7l-0.7,50.8l-84-70.1c-0.5-0.6-0.7-1.8-0.2-2.8l5-10.4c0.6-1.2,2-1.8,3.3-1.2L130.1,154.7z"/>
        <polygon class="st3" points="90.7,136.8 91.7,136.5 129.4,128.2 129.4,139.4 108.3,144.3 "/>
        <path class="st3" d="M42.6,134.4l-34.5-2.6c-1.9-0.1-3.1-2.2-2.2-3.9l18.4-35c0.9-1.7,3.2-1.9,4.4-0.4l21.7,26.7
          c0.7,0.8,0.8,2,0.3,2.9L45.2,133C44.7,133.9,43.7,134.5,42.6,134.4z"/>
        <path class="st1" d="M128.1,189.5l-77.2-64.6l-3.7,7.8c-0.5,1-0.2,2.2,0.2,2.7l80.5,67.4L128.1,189.5z"/>
      </svg>
      <svg version="1.1" id="droplet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
      	 viewBox="0 0 28.1 41.6" style="enable-background:new 0 0 28.1 41.6;" xml:space="preserve">
        <path id="path2530_1_" class="st0" d="M27.4,27c0,7.7-6,14-13.4,14S0.5,34.7,0.6,27C0.8,16.7,8.1,12.5,14,0.6
        	C20.3,12.1,27.4,19.3,27.4,27L27.4,27z"/>
        <path class="st1" d="M14.1,0.6c5.1,11.5,8.6,18.3,8.6,26S19,40.9,12.9,40.9c0.4,0,0.8,0.1,1.2,0.1c7.4,0,13.4-6.3,13.4-14
        	C27.4,19.3,20.3,12.1,14.1,0.6z"/>
      </svg>
    </div>
  </div>
</template>

<script>
import Countdown from '../partials/Countdown.vue';

export default {
  components: { Countdown },
  mounted: function () {
    this.stick()
    this.petals()
    this.pistil()
    this.leaf()
    this.wateringCan()
    this.droplet()
    this.pot()
  },
  methods: {
    stick: function () {
      anime({
        targets: '#main #stick line',
        y2: [329.9, 145],
        duration: 1600,
        easing: 'easeInOutQuart'
      })
    },
    petals: function () {
      anime({
        targets: '#main #petals',
        scale: [0, 1],
        duration: 2000,
        delay: 1150,
        easing: 'easeInOutQuart'
      })
    },
    pistil: function () {
      anime({
        targets: '#main #pistil',
        scale: [0, 1],
        duration: 2000,
        delay: 250,
        easing: 'easeInOutQuart'
      })
    },
    leaf: function () {
      anime({
        targets: '#main #leaf',
        rotateY: ['-90deg', 0],
        duration: 2000,
        delay: 2800
      })
    },
    wateringCan: function () {
      anime({
        targets: '#watering-can',
        rotate: [3, -30],
        direction: 'alternate',
        duration: 1250,
        easing: 'easeInOutQuart',
        delay: 400
      })
      anime({
        targets: '#watering-can',
        duration: 1500,
        opacity: 0,
        easing: 'easeInExpo',
        delay: 3200
      })
    },
    pot: function () {
      anime({
        targets: '#main',
        bottom: ['5vh', '15vh'],
        delay: 4200,
        duration: 1800
      })
    },
    droplet: function () {
      anime({
        targets: '#droplet',
        rotate: [0, 20],
        left: ['56.5%', '53%'],
        bottom: ['49.5vh', '15vh'],
        duration: 1200,
        delay: 700,
        easing: 'easeInExpo'
      })
      anime({
        targets: '#droplet',
        opacity: [0, 1],
        delay: 1400,
        duration: 1200,
        direction: 'alternate'
      })
    }
  }
}
</script>

<style lang='stylus' scoped>
#animation
  #main
    height 50%
    #leaf
      transform-origin 0.01% 50%
      .main
        fill #B5EAC2
        stroke #B66A5C
        stroke-width 2
        stroke-miterlimit 10
      .shadow
        fill #9ECCA9

    #stick
      line
        fill #DB9C8F
        stroke #B66A5C
        stroke-width 3
        stroke-miterlimit 10

    #pot
      .main
        fill #EDCDC7
        stroke #B66A5C
        stroke-width 2
        stroke-miterlimit 10
      .right
        fill #DB9C8F
      .left
        fill #FFE9E5

    #petals
      transform-origin 50% 50%
      path
        fill #FFD2CA
        stroke #B66A5C
        stroke-width 2
        stroke-miterlimit 10

    #pistil
      transform-origin 50% 50%
      ellipse
        fill #FFC775
        stroke #B66A5C
        stroke-width 2
        stroke-miterlimit 10
  #watering-can
    position absolute
    width 18%
    bottom 45vh
    left 55%
    transform-origin 50% 50%
    +below(750px)
      display none
    .st0
      fill #C3E0FF
      stroke #3B5C7F
      stroke-width 2
      stroke-miterlimit 10
    .st1
      fill #E7F3FF
    .st2
      fill #E7F3FF
      stroke #3B5C7F
      stroke-width 2
      stroke-linecap round
      stroke-linejoin round
      stroke-miterlimit 10
    .st3
      fill #C3E0FF
      stroke #3B5C7F
      stroke-width 2
      stroke-linecap round
      stroke-linejoin round
      stroke-miterlimit 10
  #droplet
    position absolute
    width 1vw
    left 56.5%
    bottom 49.5vh
    z-index -3
    transform-origin 50% 50%
    .st0
      opacity 0.6985
      fill #76B8FF
      fill-opacity 0.526
      enable-background new
    .st1
      opacity 0.6985
      fill #9CB3CC
      fill-opacity 0.526
      enable-background new

</style>
